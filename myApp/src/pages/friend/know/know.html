<!--
      二度人脉
-->
<ion-list *ngIf="dnowDoctorsCount">
    <div class="subtitle" padding-left>一度人脉诊所里的医师</div>
    <div class="department" *ngIf="dnowTab.length < 6">
       <ion-row>
           <span [ngClass]="!dfId ? 'active':''" tappable (click)="viewPartner('')">全部科室 ({{dnowDoctorsCount}})</span>
           <span [ngClass]="department.departmentFunctionId === dfId ? 'active':''" *ngFor="let department of dnowTab" tappable (click)="viewPartner(department.departmentFunctionId)">{{department.departmentFunctionName}} ({{department.departmentFunctionCount}})</span>
       </ion-row>
    </div>

    <div class="department" *ngIf="dnowTab.length > 5">
        <ion-row class="dlist" [ngStyle]="{'max-height': idDheight ? '6rem' : 'none' }">
            <span [ngClass]="!dfId ? 'active' : ''" tappable (click)="viewPartner('')">全部科室 ({{dnowDoctorsCount}})</span>
            <span [ngClass]="department.departmentFunctionId === dfId ? 'active':''" *ngFor="let department of dnowTab" tappable (click)="viewPartner(department.departmentFunctionId)">{{department.departmentFunctionName}} ({{department.departmentFunctionCount}})</span>
        </ion-row>
        <div text-center tappable (click)="departmentMore()">
            <ion-icon [name]="arrow"></ion-icon>
        </div>
    </div>

    <div *ngFor="let doctor of dnowList; let i = index; let last = last">
        <div class="list" *ngIf="!dfId">
            <button ion-item class="partner-item" (click)="doctorHome(doctor.docId)">
                <div class="placeholder"></div>
                <ion-avatar item-start>
                    <img class="box-shadow" src="{{imgUrl}}{{doctor.faceimage}}" *ngIf="doctor.faceimage">
                    <img class="box-shadow" src="assets/imgs/doc-zhuanzhen@3x.png" *ngIf="!doctor.faceimage">
                </ion-avatar>
                <h2>{{doctor.docName}} <span ion-text color="gray">{{doctor.department}} &nbsp;|&nbsp; {{doctor.departmentFunctionName}}</span></h2>
                <h4 ion-text color="gray">{{doctor.hospital}}</h4>
                <h4 ion-text color="dark">约诊费：<span ion-text color="lightBlue">{{doctor.treatmentMoney}}</span>元</h4>
                <button ion-button clear item-end style="width:36px">&nbsp;</button>
            </button>

            <div class="joined">
                <div *ngIf="doctor.joinedClinic.length < 2">
                    <ion-icon name="yiyuan"></ion-icon>来自Ta的诊所
                    <span *ngFor="let joined of doctor.joinedClinic">{{joined}}<i>、</i></span>
                </div>
                <div *ngIf="doctor.joinedClinic.length > 1">
                    <ion-icon name="yiyuan"></ion-icon>来自他们的诊所
                    <span *ngFor="let joined of doctor.joinedClinic">{{joined}}<i>、</i></span>
                </div>
            </div>

            <div class="operating">
                <button ion-button round outline item-end color="dark" (click)="operating(doctor.docId, doctor.docName)"><ion-icon name="addfriend"></ion-icon></button>
            </div>
        </div>

        <div class="list" *ngIf="doctor.departmentFunctionId == dfId">
            <button ion-item class="partner-item" (click)="doctorHome(doctor.docId)">
                <div class="placeholder"></div>
                <ion-avatar item-start>
                    <img class="box-shadow" src="{{imgUrl}}{{doctor.faceimage}}" *ngIf="doctor.faceimage">
                    <img class="box-shadow" src="assets/imgs/doc-zhuanzhen@3x.png" *ngIf="!doctor.faceimage">
                </ion-avatar>
                <h2>{{doctor.docName}} <span ion-text color="gray">{{doctor.department}} &nbsp;|&nbsp; {{doctor.departmentFunctionName}}</span></h2>
                <h4 ion-text color="gray">{{doctor.hospital}}</h4>
                <h4 ion-text color="dark">约诊费：<span ion-text color="lightBlue">{{doctor.treatmentMoney}}</span>元</h4>
                <button ion-button clear item-end style="width:36px">&nbsp;</button>
            </button>

            <div class="joined">
                <div *ngIf="doctor.joinedClinic.length < 2">
                    <ion-icon name="yiyuan"></ion-icon>来自Ta的诊所
                    <span *ngFor="let joined of doctor.joinedClinic">{{joined}}<i>、</i></span>
                </div>
                <div *ngIf="doctor.joinedClinic.length > 1">
                    <ion-icon name="yiyuan"></ion-icon>来自他们的诊所
                    <span *ngFor="let joined of doctor.joinedClinic">{{joined}}<i>、</i></span>
                </div>
            </div>

            <div class="operating">
                <button ion-button round outline item-end color="dark" (click)="operating(doctor.docId, doctor.docName)"><ion-icon name="addfriend"></ion-icon></button>
            </div>
        </div>

    </div>
</ion-list>

<ion-list *ngIf="!dnowDoctorsCount" class="no-data">
    <div class="subtitle" padding-left>一度人脉诊所里的医师</div>
    <img src="assets/imgs/no-friend.png" style="padding-top:60px;">
    <p>您还没有拓展人脉！</p>
    <div text-center style="padding:20px 20%;">
        <button ion-button block color="dark">立即拓展</button>
    </div>
</ion-list>
