<!--
    加入诊所
-->

<ion-list *ngIf="currentPage != 1">
    <div class="subtitle" padding-left>我加入的诊所的C医O</div>
    <div class="list" *ngFor="let doctor of items; let i = index; let last = last">
        <button ion-item class="partner-item" (click)="clinicHome('0', doctor)">
            <div class="placeholder"></div>
            <ion-avatar item-start>
                <img class="box-shadow" src="{{imgUrl}}{{doctor.faceimage}}" *ngIf="doctor.faceimage">
                <img class="box-shadow" src="assets/imgs/doc-zhuanzhen@3x.png" *ngIf="!doctor.faceimage">
            </ion-avatar>
            <h2>{{doctor.doctorName}} <span ion-text color="gray">{{doctor.doctorLevel}} &nbsp;|&nbsp; {{doctor.departmentFunctionName}}</span></h2>
            <h4 ion-text color="gray">{{doctor.hospital}}</h4>
            <h4 ion-text color="dark">约诊费：<span ion-text color="lightBlue">{{doctor.treatmentMoney}}</span>元</h4>
            <button ion-button clear item-end *ngIf="doctor.isInvited != null" style="width:36px">&nbsp;</button>
        </button>
        <div class="operating">
             <button ion-button round outline item-end color="dark" *ngIf="doctor.isInvited == false" (click)="clinicHome('1', doctor)">邀请</button>
             <button ion-button clear item-end color="dark" *ngIf="doctor.isInvited == true">已邀请</button>
        </div>
    </div>
</ion-list>

<ion-content *ngIf="currentPage == 1">

    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
          pullingIcon="arrow-dropdown"
          pullingText="下拉刷新"
          refreshingSpinner="circles"
          refreshingText="刷新中...">
        </ion-refresher-content>
    </ion-refresher>

    <ion-list>
        <div class="subtitle" padding-left>我加入的诊所的C医O</div>
        <div class="list" *ngFor="let doctor of items; let i = index; let last = last">
            <button ion-item class="partner-item" (click)="clinicHome('0', doctor)">
                <div class="placeholder"></div>
                <ion-avatar item-start>
                    <img class="box-shadow" src="{{imgUrl}}{{doctor.faceimage}}" *ngIf="doctor.faceimage">
                    <img class="box-shadow" src="assets/imgs/doc-zhuanzhen@3x.png" *ngIf="!doctor.faceimage">
                </ion-avatar>
                <h2>{{doctor.doctorName}} <span ion-text color="gray">{{doctor.doctorLevel}} &nbsp;|&nbsp; {{doctor.departmentFunctionName}}</span></h2>
                <h4 ion-text color="gray">{{doctor.hospital}}</h4>
                <h4 ion-text color="dark">约诊费：<span ion-text color="lightBlue">{{doctor.treatmentMoney}}</span>元</h4>
                <button ion-button clear item-end *ngIf="doctor.isInvited != null" style="width:36px">&nbsp;</button>
            </button>
            <div class="operating">
                 <button ion-button round outline item-end color="dark" *ngIf="doctor.isInvited == false" (click)="clinicHome('1', doctor)">邀请</button>
                 <button ion-button clear item-end color="dark" *ngIf="doctor.isInvited == true">已邀请</button>
            </div>
        </div>
    </ion-list>

    <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="items.length%20==0 && items.length>0">
      <ion-infinite-scroll-content loadingText="加载更多数据..."></ion-infinite-scroll-content>
    </ion-infinite-scroll>

</ion-content>
